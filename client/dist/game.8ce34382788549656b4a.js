!function(){"use strict";var t,e={826:function(t,e,n){var r=1920,o=1080,i=n(311),a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.getGame=function(){return this.game},t.removeChild=function(t){t&&this.game.stage.removeChild(t)},t.addChild=function(t){this.game.stage.addChild(t)},t.getChildren=function(){return this.game.stage.children},t}();function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}a.game=new i.MxU({width:r,height:o});var u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return t.addScene=function(t){var e=t.sceneKey;this.scenes.set(e,t)},t.getScene=function(t){return this.scenes.get(t)},t.deleteScene=function(t){this.scenes.delete(t)},e=t,n=[{key:"getScenes",get:function(){return this.scenes}}],null&&c(e.prototype,null),n&&c(e,n),t}();u.scenes=new Map;var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.addScene=function(t){t.forEach((function(t){u.addScene(t),a.addChild(t)}))},t.autoStartFirstScene=function(){var t=u.getScenes,e=Array.from(t.keys()),n=e.length>0?e[0]:void 0;n&&this.startScene(n)},t.startScene=function(t){var e=u.getScene(t);null==e||e.init()},t.removeScene=function(t){var e=this.getScene(t);a.removeChild(e)},t.getScene=function(t){return u.getScene(t)},t.deleteScene=function(t){this.removeScene(t),u.deleteScene(t)},t}(),l=n(766),f=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.addAudio=function(t,e){this.audio.set(t,e)},t.getAudio=function(t){return this.audio.get(t)},t}();f.audio=new Map;var p=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.addAudio=function(t,e){var n=new l.Howl({src:[e]});f.addAudio(t,n)},t.getAudio=function(t){return f.getAudio(t)},t.playAudio=function(t){var e=this.getAudio(t);null==e||e.play()},t}(),h=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.addImage=function(t,e){this.images.set(t,e)},t.getImage=function(t){return this.images.get(t)},t}();h.images=new Map;var d=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.addImage=function(t,e){h.addImage(t,e)},t.getImage=function(t){return h.getImage(t)},t}();function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function b(t,e){return!e||"object"!==v(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t,e){return g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},g(t,e)}var v=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=y(e);if(n){var o=y(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return b(this,t)});function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this)).sceneKey=t,e}return o.prototype.init=function(){},o}(i.W20),w=[JSON.parse('{"gameBackground":{"path":"game/backgrounds","key":"background"},"betBackground":{"path":"game/backgrounds","key":"bet_background"},"defaultPlayerAvatar":{"path":"game/avatar","key":"default_avatar"},"betChip":{"path":"game/chips","key":"bet"},"croupier":{"path":"game/croupier","key":"croupier"},"playerCheckSign":{"path":"game/signs","key":"check_sign"},"playerDealerSign":{"path":"game/signs","key":"dealer_sign"},"playerCallSign":{"path":"game/signs","key":"call_sign"},"playerWinnerSign":{"path":"game/signs","key":"winner_sign"},"gameTable":{"path":"game/tables","key":"table"},"timerBackground":{"path":"game/timer","key":"timer_bar_background"},"timerContainer":{"path":"game/timer","key":"timer_bar_container"},"timerBar":{"path":"game/timer","key":"timer_bar"}}'),JSON.parse('{"betButtonPush":{"path":"interface/buttons","key":"bet_button_push"},"betButton":{"path":"interface/buttons","key":"bet_button"},"bettingHideButton":{"path":"interface/buttons","key":"betting_hide_button"},"bettingShowButton":{"path":"interface/buttons","key":"betting_show_button"},"callButtonPush":{"path":"interface/buttons","key":"call_button_push"},"callButton":{"path":"interface/buttons","key":"call_button"},"checkButtonPush":{"path":"interface/buttons","key":"check_button_push"},"checkButton":{"path":"interface/buttons","key":"check_button"},"foldButtonPush":{"path":"interface/buttons","key":"fold_button_push"},"foldButton":{"path":"interface/buttons","key":"fold_button"},"raiseButtonPush":{"path":"interface/buttons","key":"raise_button_push"},"raiseButton":{"path":"interface/buttons","key":"raise_button"},"battingArrow":{"path":"interface","key":"batting_arrow"},"bettingBackground":{"path":"interface","key":"betting_background"},"bettingTextField":{"path":"interface","key":"betting_text_field"},"bottomBar":{"path":"interface","key":"bottom_bar"}}'),JSON.parse('{"loginScreenBackground":{"path":"loginScreen/background","key":"login_screen_background"},"loginButton":{"path":"loginScreen/buttons","key":"login_button"},"loginButtonPush":{"path":"loginScreen/buttons","key":"login_button_push"}}'),JSON.parse('{"registerScreenBackground":{"path":"registerScreen/background","key":"register_screen_background"},"registerButton":{"path":"registerScreen/buttons","key":"register_button"},"registerButtonPush":{"path":"registerScreen/buttons","key":"register_button_push"},"backButton":{"path":"registerScreen/buttons","key":"back_button"},"backButtonPush":{"path":"registerScreen/buttons","key":"back_button_push"}}')],P=JSON.parse('{"_":{"path":"game/cards","number":["2","3","4","5","6","7","8","9","10","J","Q","K","A"],"color":["d","c","h","s"]},"Z":{"J":"card_hidden"}}'),x=JSON.parse('{"dealCard":{"path":"card","key":"deal_card"},"playerLeave":{"path":"player","key":"player_leave"},"playerTurnEnd":{"path":"player","key":"player_turn_end"},"playerTurnStart":{"path":"player","key":"player_turn_start"},"playerWin":{"path":"player","key":"player_win"},"slideCard":{"path":"card","key":"slide_card"},"swipeButton":{"path":"button","key":"swipe_button"},"turnCard":{"path":"card","key":"turn_card"}}'),k={_path:"assets/images/",extension:".png"},S={_path:"assets/audio/",extension:".mp3"};function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function T(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){_(i,r,o,a,c,"next",t)}function c(t){_(i,r,o,a,c,"throw",t)}a(void 0)}))}}function C(t){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},C(t)}function B(t,e){return!e||"object"!==R(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function A(t,e){return A=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},A(t,e)}function j(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return O(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var R=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var E=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},I=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=C(e);if(n){var o=C(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return B(this,t)});function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),r.call(this,"PreloadScene")}var i=o.prototype;return i.init=function(){var t=this;return T((function(){return E(this,(function(e){switch(e.label){case 0:return[4,t.loadAllImages()];case 1:return e.sent(),[4,t.loadCardImages()];case 2:return e.sent(),[4,t.loadAllAudio()];case 3:return e.sent(),t.handleStartNextScene(),[2]}}))}))()},i.loadAllImages=function(){var t=this;w.forEach((function(e){Object.entries(e).forEach((function(e){var n=j(e,2),r=(n[0],n[1]);t.loadImage(r)}))}))},i.loadCardImages=function(){var t=this;return T((function(){var e,n,r,o,i,a,c,u,s,l,f,p,h;return E(this,(function(d){for(e=P._,n=e.path,r=e.number,o=e.color,i=P.Z.J,a=r,c=o,u=0;u<c.length;u++)for(s=c[u],l=0;l<a.length;l++)f=s+a[l],p=f,t.loadImage({path:n,key:p});return h=i,t.loadImage({path:n,key:h}),[2]}))}))()},i.loadAllAudio=function(){var t=this;return T((function(){return E(this,(function(e){return Object.entries(x).forEach((function(e){var n=j(e,2),r=(n[0],n[1]);t.loadAudio(r)})),[2]}))}))()},i.loadAudio=function(t){var e=t.path,n=t.key,r=S._path+e+"/"+n+S.extension;p.addAudio(n,r)},i.loadImage=function(t){var e=t.path,n=t.key,r=k._path+e+"/"+n+k.extension;d.addImage(n,r)},i.handleStartNextScene=function(){s.startScene("LoginScene"),s.removeScene("BootScene")},o}(m),Y=new I,X={background:{key:"loading_background",type:"sprite",x:960,y:960,scaleX:1,scaleY:1,angle:0,anchorX:.5,anchorY:.5,visible:!0},womanCharacter:{key:"loading_woman",type:"sprite",x:960,y:r,scaleX:1,scaleY:1,angle:0,anchorX:.5,anchorY:1,visible:!0},loadingText:{key:"loading_text",type:"sprite",x:960,y:240,scaleX:1,scaleY:1,angle:0,anchorX:.5,anchorY:.5,visible:!0}};function M(t){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},M(t)}function V(t,e){return!e||"object"!==L(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function G(t,e){return G=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},G(t,e)}var L=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var F=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=M(e);if(n){var o=M(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return V(this,t)});function o(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var n=t.key,a=t.x,c=t.y,u=t.anchorX,s=t.anchorY,l=t.visible,f=t.scaleX,p=t.scaleY,h=t.angle,y=d.getImage(n);return y?((e=r.call(this,i.xEZ.from(y))).anchor.set(u,s),e.position.set(a,c),e.scale.x=f,e.scale.y=p,e.angle=h,e.visible=l):(console.error('Image with key "'.concat(n,'" not found.')),e=r.call(this,i.xEZ.EMPTY)),V(e)}var a=o.prototype;return a.changeTexture=function(t){var e=d.getImage(t);if(e){var n=i.xEZ.from(e);this.texture=n}else console.error('Image with key "'.concat(t,'" not found.'))},a.setVisible=function(t){this.visible=t},o}(i.jyi);function U(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var D=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e=t.prototype;return e.create=function(t){var e=this.setDefaultConfig(t);return this.createSpriteByType(e)},e.setDefaultConfig=function(t){var e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){U(t,e,n[e])}))}return t}({x:0,y:0,anchorX:.5,anchorY:.5,scaleX:1,scaleY:1,angle:0,visible:!0},t);return e},e.createSpriteByType=function(t){var e=null;return"sprite"===t.type&&(e=this.createSprite(t)),e},e.createSprite=function(t){return new F(t)},t}(),N=new D,z=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=X,this.scene=e,this.background=this.createBackground(),this.woman=this.createWoman(),this.text=this.createLoadingText()}var e=t.prototype;return e.createBackground=function(){var t=this.config.background,e=N.createSprite(t);return e&&this.scene.addChild(e),e},e.createWoman=function(){var t=this.config.womanCharacter,e=N.createSprite(t);return e&&this.scene.addChild(e),e},e.createLoadingText=function(){var t=this.config.loadingText,e=N.createSprite(t);return e&&this.scene.addChild(e),e},t}();function W(t){return W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},W(t)}function J(t,e){return!e||"object"!==H(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Z(t,e){return Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Z(t,e)}var H=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var K=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=W(e);if(n){var o=W(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return J(this,t)});function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),r.call(this,"BootScene")}var i=o.prototype;return i.init=function(){this.preload(),this.startLoadingScreen(),this.startNextScene()},i.preload=function(){for(var t=["loading_text","loading_woman","loading_elements","loading_background"],e=t.length,n=0;n<e;n++){var r=t[n],o="assets/images/loadScreen/".concat(r,".png");d.addImage(r,o)}},i.startNextScene=function(){s.startScene("PreloadScene")},i.startLoadingScreen=function(){new z(this)},o}(m),$=new K,Q=JSON.parse('{"background":{"path":"","key":"background","type":"sprite","x":960,"y":540,"anchorX":0.5,"anchorY":0.5,"visible":true},"table":{"path":"","key":"table","type":"sprite","x":960,"y":540,"anchorX":0.5,"anchorY":0.5,"visible":true},"croupier":{"path":"","key":"croupier","type":"sprite","x":960,"y":150,"anchorX":0.5,"anchorY":0.5,"visible":true}}'),q=n(767),tt=n(55),et=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)};function nt(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}et.onPlayerJoined=new tt.MiniSignal,et.onGetPlayers=new tt.MiniSignal,et.onAllPlayerJoined=new tt.MiniSignal,et.onChangePlayerTurn=new tt.MiniSignal,et.onInitNextRound=new tt.MiniSignal,et.onPlayerLeave=new tt.MiniSignal,et.onUpdatePlayerTurnAction=new tt.MiniSignal,et.onGameResult=new tt.MiniSignal,et.playerTurnAction=new tt.MiniSignal;var ot=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.room=null,this.client=new q.KU("wss://pkapi.c4ex.net"),this.myId="",this.bindSignals()}var e,n,r=t.prototype;return r.joinGameRoom=function(t){var e,n=this;return(e=function(){var e;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}(this,(function(r){switch(r.label){case 0:return e=!1,[4,n.client.joinOrCreate("game",{authToken:t}).then((function(t){console.log("Joined room",t),n.room=t,n.myId=t.sessionId,e=!0})).catch((function(t){e=!1,console.error("Failed to join room:",t)}))];case 1:return r.sent(),[2,e]}}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(t){nt(i,r,o,a,c,"next",t)}function c(t){nt(i,r,o,a,c,"throw",t)}a(void 0)}))})()},r.isMyId=function(t){return this.myId===t},r.bindSignals=function(){var t=this;et.playerTurnAction.add((function(e){return t.playerTurnAction(e)}))},r.playerTurnAction=function(t){this.sendMessage("playerTurnAction",t)},r.sendMessage=function(t,e){var n;null===(n=this.room)||void 0===n||n.send(t,e)},r.setupListeners=function(){var t,e,n,r,o,i,a,c,u,s,l;null===(t=this.room)||void 0===t||t.onStateChange((function(t){console.log("Room state changed:",t)})),null===(e=this.room)||void 0===e||e.onMessage("getPlayers",(function(t){et.onGetPlayers.dispatch(t)})),null===(n=this.room)||void 0===n||n.onMessage("playerJoined",(function(t){et.onPlayerJoined.dispatch(t)})),null===(r=this.room)||void 0===r||r.onMessage("initPreflopRound",(function(t){et.onAllPlayerJoined.dispatch(t)})),null===(o=this.room)||void 0===o||o.onMessage("updateGameTurn",(function(t){et.onChangePlayerTurn.dispatch(t)})),null===(i=this.room)||void 0===i||i.onMessage("initNextRound",(function(t){et.onInitNextRound.dispatch(t)})),null===(a=this.room)||void 0===a||a.onMessage("playerLeaveGame",(function(t){et.onPlayerLeave.dispatch(t)})),null===(c=this.room)||void 0===c||c.onMessage("updatePlayerTurnAction",(function(t){et.onUpdatePlayerTurnAction.dispatch(t)})),null===(u=this.room)||void 0===u||u.onMessage("gameResult",(function(t){et.onGameResult.dispatch(t)})),null===(s=this.room)||void 0===s||s.onMessage("announcement",(function(t){console.log("Server announcement:",t)})),null===(l=this.room)||void 0===l||l.onLeave((function(t){console.log("Leave room:",t)}))},e=t,(n=[{key:"getMyId",get:function(){return this.myId}}])&&rt(e.prototype,n),t}(),it=new ot;function at(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ct(t){return ct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ct(t)}function ut(t,e){return!e||"object"!==lt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function st(t,e){return st=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},st(t,e)}var lt=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var ft=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&st(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct(e);if(n){var o=ct(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return ut(this,t)});function o(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var n=t.message,i=t.x,a=t.y,c=t.anchorX,u=t.anchorY,s=t.visible,l=t.textConfig;return(e=r.call(this,n,l)).anchor.set(c,u),e.position.set(i,a),e.visible=s,e.updateMessage(n),e}var i,a,c=o.prototype;return c.updateMessage=function(t){"number"==typeof t&&(this.text=this.roundNumbersToK(t))},c.roundNumbersToK=function(t){return t>=1e3?Math.floor(t/1e3)+"k":"0"},i=o,(a=[{key:"getTextInNumber",get:function(){var t=this.text.replace("k","");return 1e3*parseInt(t)}}])&&at(i.prototype,a),o}(i.xvT);function pt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ht(t){return ht=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ht(t)}function dt(t,e){return!e||"object"!==bt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function yt(t,e){return yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},yt(t,e)}var bt=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var gt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yt(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ht(e);if(n){var o=ht(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return dt(this,t)});function o(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var n=t.spriteConfig;return(e=r.call(this,n)).config=t,e.mainSprite=e.texture.textureCacheIds[0],e.spritePush=d.getImage(e.config.spritePush),e.scaleValue=e.config.scaleValue,e.interactive=!0,e.buttonMode=!0,e.originalScale=e.scale.clone(),e}var a,c,u=o.prototype;return u.onClick=function(t){var e=this;this.on("pointerdown",(function(){e.spritePush&&(e.texture=i.xEZ.from(e.spritePush))})),this.on("pointerup",(function(){e.texture=i.xEZ.from(e.mainSprite),t()})),this.on("pointerout",(function(){e.texture=i.xEZ.from(e.mainSprite)}))},u.resetButton=function(){this.scale.copyFrom(this.originalScale)},u.hide=function(){this.visible=!1},u.show=function(){this.visible=!0},a=o,(c=[{key:"setInteractive",set:function(t){this.interactive=t}}])&&pt(a.prototype,c),o}(F),vt=["fold","check","call","raise","bet"],mt={bottomBar:{path:"",key:"bottom_bar",type:"sprite",x:0,y:o,anchorX:0,anchorY:1,visible:!0},moneyText:{message:0,x:120,y:980,scaleX:1,scaleY:1,angle:0,anchorX:0,anchorY:0,visible:!0,textConfig:{fontFamily:"Arial",fontSize:55,fill:16777215}},betsText:{message:0,x:445,y:980,scaleX:1,scaleY:1,angle:0,anchorX:0,anchorY:0,visible:!0,textConfig:{fontFamily:"Arial",fontSize:55,fill:16777215}},foldButton:{spritePush:"fold_button_push",scaleValue:.9,spriteConfig:{key:"fold_button",type:"sprite",x:600,y:1070,scaleX:1,scaleY:1,angle:0,anchorX:0,anchorY:1,visible:!0}},betButton:{spritePush:"bet_button_push",scaleValue:.9,spriteConfig:{key:"bet_button",type:"sprite",x:1645,y:1070,scaleX:1,scaleY:1,angle:0,anchorX:0,anchorY:1,visible:!0}},checkButton:{spritePush:"check_button_push",scaleValue:.9,spriteConfig:{key:"check_button",type:"sprite",x:860,y:1070,scaleX:1,scaleY:1,angle:0,anchorX:0,anchorY:1,visible:!0}},callButton:{spritePush:"call_button_push",scaleValue:.9,spriteConfig:{key:"call_button",type:"sprite",x:1120,y:1070,scaleX:1,scaleY:1,angle:0,anchorX:0,anchorY:1,visible:!0}},raiseButton:{spritePush:"raise_button_push",scaleValue:.9,spriteConfig:{key:"raise_button",type:"sprite",x:1385,y:1070,scaleX:1,scaleY:1,angle:0,anchorX:0,anchorY:1,visible:!0}}};function wt(t){return wt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},wt(t)}function Pt(t,e){return!e||"object"!==kt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xt(t,e){return xt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},xt(t,e)}var kt=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var St=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xt(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=wt(e);if(n){var o=wt(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Pt(this,t)});function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this)).config=mt,t.bottomBar=t.createBottomBar(),t.moneyText=t.createMoneyText(),t.betsText=t.createBetsText(),t.foldButton=t.createFoldButton(),t.betButton=t.createBetButton(),t.checkButton=t.createCheckButton(),t.callButton=t.createCallButton(),t.raiseButton=t.createRaiseButton(),t}var i=o.prototype;return i.createBottomBar=function(){var t=this.config.bottomBar,e=N.create(t);return e&&this.addChild(e),e},i.createMoneyText=function(){var t=this.config.moneyText,e=new ft(t);return this.addChild(e),e},i.createBetsText=function(){var t=this.config.betsText,e=new ft(t);return this.addChild(e),e},i.createFoldButton=function(){var t=this.config.foldButton,e=new gt(t);return this.addChild(e),e},i.createBetButton=function(){var t=this.config.betButton,e=new gt(t);return this.addChild(e),e},i.createCheckButton=function(){var t=this.config.checkButton,e=new gt(t);return this.addChild(e),e},i.createCallButton=function(){var t=this.config.callButton,e=new gt(t);return this.addChild(e),e},i.createRaiseButton=function(){var t=this.config.raiseButton,e=new gt(t);return this.addChild(e),e},o}(i.W20);function Ot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var _t=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pokerBar=null}var e,n;return t.prototype.createPokerBar=function(){return this.pokerBar=new St},e=t,(n=[{key:"updateMoneyText",set:function(t){var e,n;null===(e=this.pokerBar)||void 0===e||null===(n=e.moneyText)||void 0===n||n.updateMessage(t)}},{key:"updateBetText",set:function(t){var e,n;null===(e=this.pokerBar)||void 0===e||null===(n=e.betsText)||void 0===n||n.updateMessage(t)}},{key:"getFoldButton",get:function(){return this.pokerBar.foldButton}},{key:"getCheckButton",get:function(){return this.pokerBar.checkButton}},{key:"getCallButton",get:function(){return this.pokerBar.callButton}},{key:"getRaiseButton",get:function(){return this.pokerBar.raiseButton}},{key:"getBetButton",get:function(){return this.pokerBar.betButton}}])&&Ot(e.prototype,n),t}();function Tt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ct=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.initPokerBar=function(t){var e=this.pokerBarAdapter.createPokerBar();t.addChild(e)},t.updateMoneyText=function(t){this.pokerBarAdapter.updateMoneyText=t},t.updateBetText=function(t){this.pokerBarAdapter.updateBetText=t},t.setupButtonOnClick=function(t,e){var n,r,o,i,a,c,u,s=(u=5,function(t){if(Array.isArray(t))return t}(c=vt)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(c,u)||function(t,e){if(t){if("string"==typeof t)return Tt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tt(t,e):void 0}}(c,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=s[0],f=s[1],p=s[2],h=s[3],d=s[4];t===l&&(null===(n=this.pokerBarAdapter.getFoldButton)||void 0===n||n.onClick(e)),t===f&&(null===(r=this.pokerBarAdapter.getCheckButton)||void 0===r||r.onClick(e)),t===p&&(null===(o=this.pokerBarAdapter.getCallButton)||void 0===o||o.onClick(e)),t===h&&(null===(i=this.pokerBarAdapter.getRaiseButton)||void 0===i||i.onClick(e)),t===d&&(null===(a=this.pokerBarAdapter.getBetButton)||void 0===a||a.onClick(e))},t}();Ct.pokerBarAdapter=new _t;var Bt={x:1640,y:300,background:{key:"betting_background",type:"sprite",x:10,y:40,scaleX:1,scaleY:1,angle:0,anchorX:0,anchorY:0,visible:!0},button:{spritePush:"betting_hide_button",scaleValue:1,spriteConfig:{key:"betting_show_button",type:"sprite",x:10,y:40,scaleX:1,scaleY:1,angle:0,anchorX:0,anchorY:1,visible:!0}},betText:{message:1e3,x:125,y:580,scaleX:1,scaleY:1,angle:0,anchorX:.5,anchorY:0,visible:!0,textConfig:{fontFamily:"Arial",fontSize:55,fill:16777215}},textFieldBackground:{key:"betting_text_field",type:"sprite",x:10,y:638,scaleX:1,scaleY:1,angle:0,anchorX:0,anchorY:1,visible:!0},arrow:{key:"batting_arrow",type:"sprite",x:10,y:550,scaleX:1,scaleY:1,angle:0,anchorX:0,anchorY:0,visible:!0}};function At(t){return At=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},At(t)}function jt(t,e){return!e||"object"!==Et(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Rt(t,e){return Rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Rt(t,e)}var Et=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var It=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rt(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=At(e);if(n){var o=At(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return jt(this,t)});function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,t)).minY=50,e.maxY=550,e.interactive=!0,e.buttonMode=!0,e.dragging=!1,e.dragData=null,e.dragOffset=null,e}var a=o.prototype;return a.initEvents=function(t){var e=this;this.on("pointerdown",this.onDragStart),this.on("pointerup",this.onDragEnd),this.on("pointerupoutside",this.onDragEnd),this.on("pointermove",(function(n){return e.onDragMove(n,t)}))},a.onDragStart=function(t){this.dragData=t.data,this.dragOffset=this.convertToPoint(this.dragData.getLocalPosition(this)),this.dragging=!0},a.convertToPoint=function(t){return new i.E9j(t.x,t.y)},a.onDragEnd=function(){this.dragData=null,this.dragOffset=null,this.dragging=!1},a.onDragMove=function(t,e){if(this.dragging){var n;e&&e();var r=(null===(n=this.dragData)||void 0===n?void 0:n.getLocalPosition(this.parent)).y-this.dragOffset.y;if(r<this.minY||r>this.maxY)return;this.y=r}},o}(F);function Yt(t){return Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Yt(t)}function Xt(t,e){return!e||"object"!==Vt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Mt(t,e){return Mt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Mt(t,e)}var Vt=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var Gt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mt(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Yt(e);if(n){var o=Yt(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Xt(this,t)});function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this)).config=Bt,t.x=t.config.x,t.y=t.config.y,t.toggleButton=t.createButton(),t.background=t.createBackground(),t.textField=t.createTextFieldBackground(),t.arrow=t.createArrow(),t.betText=t.createText(),t.isOpen=!0,t}var i=o.prototype;return i.createBackground=function(){var t=this.config.background,e=N.createSprite(t);return e&&this.addChild(e),e},i.createTextFieldBackground=function(){var t=this.config.textFieldBackground,e=N.createSprite(t);return e&&this.addChild(e),e},i.createButton=function(){var t=this.config.button,e=new gt(t);return this.addChild(e),e},i.createText=function(){var t=this.config.betText,e=new ft(t);return this.addChild(e),e},i.createArrow=function(){var t=this.config.arrow,e=new It(t);return e&&this.addChild(e),e},o}(i.W20);function Lt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ft=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.betting=null}var e,n,r=t.prototype;return r.createBetting=function(){return this.betting=new Gt},r.updateBetText=function(t){var e;null===(e=this.betting.betText)||void 0===e||e.updateMessage(t)},e=t,(n=[{key:"getBettingY",get:function(){return this.betting.y}},{key:"getBettingView",get:function(){return this.betting}},{key:"getArrow",get:function(){return this.betting.arrow}},{key:"getArrowYPosition",get:function(){var t=this.getArrow;return null==t?void 0:t.y}},{key:"getToggleButton",get:function(){return this.betting.toggleButton}},{key:"setIsBettingOpen",set:function(t){this.betting.isOpen=t}},{key:"isBettingOpen",get:function(){return this.betting.isOpen}},{key:"getBetTextNumber",get:function(){var t;return null===(t=this.betting.betText)||void 0===t?void 0:t.getTextInNumber}}])&&Lt(e.prototype,n),t}(),Ut=n(358);function Dt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Nt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return t.initBetting=function(t){var e=this.bettingAdapter.createBetting();this.setupEvents(),t.addChild(e)},t.setupEvents=function(){this.initDragEvent(this.handleBetTextUpdate),this.setupToggleButtonOnClick()},t.initDragEvent=function(t){var e;null===(e=this.bettingAdapter.getArrow)||void 0===e||e.initEvents(t.bind(this))},t.handleBetTextUpdate=function(){var t=this.bettingAdapter.getArrowYPosition,e=501e3-1e3*(Math.round(t)+-50);this.bettingAdapter.updateBetText(e)},t.setupToggleButtonOnClick=function(){var t=this,e=this.bettingAdapter.getToggleButton;null==e||e.onClick((function(){return t.startBettingSlideAnim()}))},t.startBettingSlideAnim=function(){var t=this.bettingAdapter.getBettingView,e=this.bettingAdapter.getBettingY,n=this.bettingAdapter.isBettingOpen,r=n?1:-1;this.bettingAdapter.setIsBettingOpen=!n,p.playAudio("swipe_button"),Ut.ZP.to(t,{y:e+590*r,duration:.5,ease:"power1.out"})},e=t,n=[{key:"getBetValueNumber",get:function(){return this.bettingAdapter.getBetTextNumber}}],null&&Dt(e.prototype,null),n&&Dt(e,n),t}();function zt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Nt.bettingAdapter=new Ft;var Wt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return t.addPlayer=function(t){var e=t.id;this.players[e]=t},t.getPlayer=function(t){return this.players[t]},t.deletePlayer=function(t){delete this.players[t]},e=t,n=[{key:"getPlayers",get:function(){return this.players}}],null&&zt(e.prototype,null),n&&zt(e,n),t}();Wt.players={};var Jt=Wt,Zt={player1:{sitPosition:{x:830,y:750},betPosition:{x:130,y:-130},cardsPositions:{dealAnimStartPositions:[{x:150,y:-500},{x:150,y:-500}],dealAnimEndPositions:[{x:190,y:60},{x:330,y:60}]}},player2:{sitPosition:{x:390,y:550},betPosition:{x:170,y:50},cardsPositions:{dealAnimStartPositions:[{x:580,y:-290},{x:580,y:-290}],dealAnimEndPositions:[{x:110,y:-40},{x:160,y:-40}]}},player3:{sitPosition:{x:550,y:200},betPosition:{x:170,y:90},cardsPositions:{dealAnimStartPositions:[{x:410,y:50},{x:410,y:50}],dealAnimEndPositions:[{x:110,y:-20},{x:160,y:-20}]}},player4:{sitPosition:{x:1380,y:200},betPosition:{x:-170,y:90},cardsPositions:{dealAnimStartPositions:[{x:-400,y:50},{x:-400,y:50}],dealAnimEndPositions:[{x:-160,y:-20},{x:-110,y:-20}]}},player5:{sitPosition:{x:1530,y:550},betPosition:{x:-170,y:50},cardsPositions:{dealAnimStartPositions:[{x:-580,y:-290},{x:-580,y:-290}],dealAnimEndPositions:[{x:-160,y:-40},{x:-110,y:-40}]}}},Ht={owner:1.2,other:.5},Kt=["check_sign","call_sign","raise_sign","winner_sign"],$t={x:0,y:0,id:"1",sit:1,position:"player",avatar:{path:"",key:"default_avatar",type:"sprite",x:0,y:0,scaleX:1,scaleY:1,angle:0,anchorX:.5,anchorY:.5,visible:!0},nickname:{message:"Guest",x:0,y:-100,scaleX:1,scaleY:1,angle:0,anchorX:.5,anchorY:.5,visible:!0,textConfig:{fontFamily:"Arial",fontSize:36,fill:16777215}},money:{message:0,x:0,y:55,scaleX:1,scaleY:1,angle:0,anchorX:.5,anchorY:.5,visible:!0,textConfig:{fontFamily:"Arial",fontSize:36,fill:0}},bet:{x:100,y:100,visible:!1,image:{path:"",key:"bet",type:"sprite",x:0,y:0,scaleX:1,scaleY:1,angle:0,anchorX:.5,anchorY:.5,visible:!0},background:{path:"",key:"bet_background",type:"sprite",x:0,y:0,scaleX:1,scaleY:1,angle:0,anchorX:.5,anchorY:.5,visible:!0},text:{message:0,x:0,y:40,scaleX:1,scaleY:1,angle:0,anchorX:.5,anchorY:.5,visible:!0,textConfig:{fontFamily:"Arial",fontSize:36,fill:0}}},dealerSign:{path:"",key:"dealer_sign",type:"sprite",x:-50,y:-50,scaleX:1,scaleY:1,angle:0,anchorX:.5,anchorY:.5,visible:!1},actionSign:{path:"",key:"check_sign",type:"sprite",x:-50,y:22,scaleX:1,scaleY:1,angle:0,anchorX:.5,anchorY:.5,visible:!1},cards:[{path:"",key:"card_hidden",type:"sprite",x:0,y:0,scaleX:.4,scaleY:.4,angle:-10,anchorX:.5,anchorY:.5,visible:!1},{path:"",key:"card_hidden",type:"sprite",x:50,y:0,scaleX:.4,scaleY:.4,angle:10,anchorX:.5,anchorY:.5,visible:!1}],cardsAnimPositions:{animStartPosition:[{x:0,y:0},{x:0,y:0}],animEndPosition:[{x:100,y:0},{x:100,y:0}]},timer:{countdownSeconds:15,fps:60,progressBar:{x:0,y:100,background:{path:"",key:"timer_bar_background",type:"sprite",x:13,y:0,scaleX:1,scaleY:1,angle:0,anchorX:.5,anchorY:.5,visible:!0},container:{path:"",key:"timer_bar_container",type:"sprite",x:0,y:0,scaleX:1,scaleY:1,angle:0,anchorX:.5,anchorY:.5,visible:!0},bar:{path:"",key:"timer_bar",type:"sprite",x:13,y:0,scaleX:1,scaleY:1,angle:0,anchorX:.5,anchorY:.5,visible:!0},mask:{x:-90,y:-10,width:196,height:19}}}};function Qt(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function qt(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Qt(i,r,o,a,c,"next",t)}function c(t){Qt(i,r,o,a,c,"throw",t)}a(void 0)}))}}var te=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},ee=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.addPlayer=function(t){Jt.addPlayer(t)},t.getPlayers=function(){return Jt.getPlayers},t.getPlayersCount=function(){var t=this.getPlayers();return Object.keys(t).length},t.getPlayer=function(t){return Jt.getPlayer(t)},t.updatePlayerMoneyText=function(t,e,n){e[t].updateMoneyText(n)},t.updatePlayerBet=function(t,e,n){e[t].updateBets(n),n>0&&e[t].setBetVisible(!0)},t.updatePlayerPosition=function(t,e,n){e[t].updateGamePosition(n)},t.checkDisplayDealerSign=function(t,e,n){"dealer"===n&&e[t].setDealerSignVisible(!0)},t.playDealCardsForPlayersAnim=function(){var t=this;return qt((function(){var e,n,r,o,i,a,c,u,s,l,f,p,h;return te(this,(function(d){switch(d.label){case 0:e=t.getPlayers(),n=200,r=100,i=(o=Ht).owner,a=o.other,c=function(t){return new Promise((function(e){return setTimeout(e,t)}))},u=0,d.label=1;case 1:return u<2?[4,c(r)]:[3,7];case 2:for(l in d.sent(),s=[],e)s.push(l);f=0,d.label=3;case 3:return f<s.length?(p=s[f],e.hasOwnProperty(p)?[4,c(n)]:[3,5]):[3,6];case 4:d.sent(),h=it.isMyId(p)?i:a,e[p].startDealCardsAnim(u,h),d.label=5;case 5:return f++,[3,3];case 6:return u++,[3,1];case 7:return[2]}}))}))()},t.turnOverPlayersCardsAnim=function(t,e){var n=this.getPlayers(),r=it.getMyId,o=function(e){var r=t[e];n[e].turnOverCards(r)};if(e)o(r);else for(var i in n)it.isMyId(i)||o(i)},t.startScaleUpCardsAnim=function(t){var e=this;return qt((function(){var n,r,o,i;return te(this,(function(a){switch(a.label){case 0:for(var c in n=e.getPlayers(),r=[],n)o=n[c],it.isMyId(c)&&t||(i=o.startScaleUpCardsAnim(),r.push(i));return[4,Promise.all(r)];case 1:return a.sent(),[2]}}))}))()},t.resetPlayersBets=function(){var t=this.getPlayers();for(var e in t)t[e].resetBet()},t.deletePlayer=function(t){p.playAudio("player_leave"),this.getPlayer(t).destroy(),Jt.deletePlayer(t)},t.turnOffPlayersTimer=function(){var t=this.getPlayers();for(var e in t)t[e].turnOffTimer()},t.setPlayerActionSignVisible=function(t,e){this.getPlayers()[t].setPlayerActionSignVisible(e)},t.setPlayersSignsVisible=function(t){var e=this.getPlayers();for(var n in e)this.setPlayerActionSignVisible(n,t)},t}(),ne=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.convertConfigToArray=function(){return Object.values(Zt)},t.setupConfigPositions=function(t){for(var e=0;e<t-1;e++){var n=this.positionsConfig.pop();n&&this.positionsConfig.unshift(n)}},t.getPositionsConfig=function(t){return this.positionsConfig[t-1]},t}();function re(t){return re=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},re(t)}function oe(t,e){return!e||"object"!==ae(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ie(t,e){return ie=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ie(t,e)}ne.positionsConfig=ne.convertConfigToArray();var ae=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var ce=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ie(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=re(e);if(n){var o=re(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return oe(this,t)});function o(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this)).x=t,n.y=e,n}return o}(i.W20);function ue(t){return ue=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ue(t)}function se(t,e){return!e||"object"!==fe(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function le(t,e){return le=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},le(t,e)}var fe=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var pe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&le(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ue(e);if(n){var o=ue(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return se(this,t)});function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this)).config=t,e.x=e.config.x,e.y=e.config.y,e.visibleOnInit=e.config.visible,e.background=e.createBackgroundImage(),e.image=e.createBetImage(),e.text=e.createBetsCountText(),e.setVisible(e.visibleOnInit),e}var i=o.prototype;return i.createBetImage=function(){var t=this.config.image,e=N.create(t);return e&&this.addChild(e),e},i.createBackgroundImage=function(){var t=this.config.background,e=N.create(t);return e&&this.addChild(e),e},i.createBetsCountText=function(){var t=this.config.text,e=new ft(t);return this.addChild(e),e},i.setVisible=function(t){this.visible=t},i.updateText=function(t){this.text.updateMessage(t)},o}(i.W20);function he(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function de(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){he(i,r,o,a,c,"next",t)}function c(t){he(i,r,o,a,c,"throw",t)}a(void 0)}))}}function ye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function be(t){return be=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},be(t)}function ge(t,e){return!e||"object"!==me(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ve(t,e){return ve=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ve(t,e)}var me=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var we=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},Pe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ve(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=be(e);if(n){var o=be(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return ge(this,t)});function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,t)).isTurned=!1,e.isSlideDown=!1,e}var i,a,c=o.prototype;return c.turnOverAnim=function(t){var e=this;return de((function(){return we(this,(function(n){switch(n.label){case 0:return.1,"none",true,1,[4,Ut.ZP.to(e,{width:0,duration:.1,ease:"none",yoyo:true,repeat:1,onRepeat:function(){e.changeTexture(t),e.isTurned=!0}})];case 1:return n.sent(),[2]}}))}))()},c.dealAnim=function(t,e,n){var r=this,o={scale:.5*this.scale.x,angle:this.angle,x:this.x,y:this.y};Ut.ZP.to(o,{scale:n,angle:this.angle+360,x:t,y:e,duration:.5,ease:"circ.out",onUpdate:function(){r.angle=o.angle,r.setScale(o.scale),r.x=o.x,r.y=o.y}})},c.slideFromTopAnim=function(){var t=this;return de((function(){return we(this,(function(e){switch(e.label){case 0:return"none",.2,400,[4,Ut.ZP.to(t,{y:400,duration:.2,ease:"none",onComplete:function(){t.isSlideDown=!0}})];case 1:return e.sent(),[2]}}))}))()},c.moveXAnim=function(t){var e=this;return de((function(){return we(this,(function(n){switch(n.label){case 0:return"none",.3,[4,Ut.ZP.to(e,{x:t,duration:.3,ease:"none"})];case 1:return n.sent(),[2]}}))}))()},c.setYPosition=function(t){this.y=t},c.setScale=function(t){this.scale.x=t,this.scale.y=t},c.setVisible=function(t){this.visible=t},i=o,(a=[{key:"isPlacedOnTable",get:function(){return this.isTurned&&this.isSlideDown}}])&&ye(i.prototype,a),o}(F);function xe(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function ke(t){return ke=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ke(t)}function Se(t,e){return!e||"object"!==_e(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Oe(t,e){return Oe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Oe(t,e)}var _e=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var Te=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Oe(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ke(e);if(n){var o=ke(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Se(this,t)});function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this)).dealAnimStartPositions=[],t.dealAnimEndPositions=[],t.cards=[],t}var i=o.prototype;return i.createCard=function(t){var e=new Pe(t);return null!==e&&this.addChild(e),e},i.dealAnim=function(t,e,n,r){p.playAudio("deal_card"),t.dealAnim(e,n,r)},i.resetCardsAnimPositions=function(t){this.cards[t].x=this.dealAnimStartPositions[t].x,this.cards[t].y=this.dealAnimStartPositions[t].y},i.addCard=function(t){var e=this.createCard(t);null!==e&&this.cards.push(e)},i.addCards=function(t){for(var e=0;e<t.length;e++){var n=t[e];this.addCard(n)}},i.startDealAnim=function(t,e){var n=this.dealAnimEndPositions[t].x,r=this.dealAnimEndPositions[t].y,o=this.cards[t];o.setVisible(!0),this.resetCardsAnimPositions(t),this.dealAnim(o,n,r,e)},i.getCards=function(){return this.cards},i.turnOverCardsAnim=function(t){for(var e=0;e<this.cards.length;e++){var n=this.cards[e],r=t[e].name;n.turnOverAnim(r)}},i.setAnimStartPosition=function(t){this.dealAnimStartPositions=t},i.setAnimEndPosition=function(t){this.dealAnimEndPositions=t},i.startScaleUpCardsAnim=function(){var t,e=this;return(t=function(){var t;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}(this,(function(n){switch(n.label){case 0:return.3,"none",1.5,t={scale:e.scale.x},[4,Ut.ZP.to(t,{scale:1.5,duration:.3,ease:"none",onUpdate:function(){e.setScale(t.scale)}})];case 1:return n.sent(),[2]}}))},function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){xe(i,r,o,a,c,"next",t)}function c(t){xe(i,r,o,a,c,"throw",t)}a(void 0)}))})()},i.setScale=function(t){this.scale.x=t,this.scale.y=t},o}(i.W20);function Ce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Be(t){return Be=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Be(t)}function Ae(t,e){return!e||"object"!==Re(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function je(t,e){return je=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},je(t,e)}var Re=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var Ee=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&je(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Be(e);if(n){var o=Be(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Ae(this,t)});function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this)).config=t,e.x=e.config.x,e.y=e.config.y,e.maskWidth=e.config.mask.width,e.background=e.createBackground(),e.bar=e.createBar(),e.barMask=e.createBarMask(e.maskWidth),e.container=e.createContainer(),e.bar.mask=e.barMask,e}var a,c,u=o.prototype;return u.createBackground=function(){var t=this.config.background,e=N.create(t);return e&&this.addChild(e),e},u.createContainer=function(){var t=this.config.container,e=N.create(t);return e&&this.addChild(e),e},u.createBar=function(){var t=this.config.bar,e=N.create(t);return e&&this.addChild(e),e},u.createBarMask=function(t){var e=this.config.mask,n=e.x,r=e.y,o=e.height,a=new i.TCu;return a.beginFill(16711680),a.drawRect(n,r,t,o),a.endFill(),this.addChild(a),a},u.updateBar=function(t){this.barMask.clear(),this.barMask=this.createBarMask(t),this.bar.mask=this.barMask},u.resetMaskWidth=function(){this.updateBar(this.maskWidth)},a=o,(c=[{key:"getBarMaskWidth",get:function(){return this.barMask.width}}])&&Ce(a.prototype,c),o}(i.W20);function Ie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ye(t){return Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ye(t)}function Xe(t,e){return!e||"object"!==Ve(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Me(t,e){return Me=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Me(t,e)}var Ve=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var Ge=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Me(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Ye(e);if(n){var o=Ye(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Xe(this,t)});function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this)).config=t,e.fps=e.config.fps,e.countdownInterval=null,e.progressBar=e.createProgressBar(),e}var i,a,c=o.prototype;return c.createProgressBar=function(){var t=this.config.progressBar,e=new Ee(t);return e&&this.addChild(e),e},c.startCountdown=function(t,e){var n=this,r=this.calculatePlayerTurnTime(t,e);this.setVisible(!0);var o=this.progressBar.getBarMaskWidth/(r*this.fps);this.countdownInterval=setInterval((function(){var t=n.progressBar.getBarMaskWidth;if(t>1){var e=t-o;n.progressBar.updateBar(e)}else n.resetTimer()}),1e3/this.fps)},c.stopCountdown=function(){this.countdownInterval&&clearInterval(this.countdownInterval)},c.setVisible=function(t){this.visible=t},c.resetTimer=function(){this.setVisible(!1),this.stopCountdown(),this.progressBar.resetMaskWidth()},c.calculatePlayerTurnTime=function(t,e){return e-Math.floor((this.getActualTime-t)/1e3)},i=o,(a=[{key:"getActualTime",get:function(){return(new Date).getTime()}}])&&Ie(i.prototype,a),o}(i.W20);function Le(t){return Le=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Le(t)}function Fe(t,e){return!e||"object"!==De(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ue(t,e){return Ue=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ue(t,e)}var De=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var Ne=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ue(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Le(e);if(n){var o=Le(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Fe(this,t)});function o(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var n=t.x,i=t.y;return(e=r.call(this,n,i)).config=t,e.id=e.config.id,e.gamePosition=e.config.position,e.avatarSprite=e.createAvatar(),e.nickname=e.createNickname(),e.money=e.createMoney(),e.dealerSign=e.createDealerSign(),e.actionSign=e.createActionSign(),e.bet=e.createBet(),e.cards=e.createCards(),e.timer=e.createTimer(),e}var i=o.prototype;return i.createAvatar=function(){var t=this.config.avatar,e=N.create(t);return null!==e&&this.addChild(e),e},i.createNickname=function(){var t=this.config.nickname,e=new ft(t);return this.addChild(e),e},i.createMoney=function(){var t=this.config.money,e=new ft(t);return this.addChild(e),e},i.createBet=function(){var t=this.config.bet,e=new pe(t);return this.addChild(e),e},i.createCards=function(){var t=new Te;return t.addCards(this.config.cards),t.setAnimStartPosition(this.config.cardsAnimPositions.animStartPosition),t.setAnimEndPosition(this.config.cardsAnimPositions.animEndPosition),this.addChild(t),t},i.createTimer=function(){var t=this.config.timer,e=new Ge(t);return e.setVisible(!1),this.addChild(e),e},i.createDealerSign=function(){var t=this.config.dealerSign,e=N.create(t);return null!==e&&this.addChild(e),e},i.createActionSign=function(){var t=this.config.actionSign,e=N.create(t);return null!==e&&this.addChild(e),e},o}(ce);function ze(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function We(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Je=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.playerComponents=new Ne(e),this.config=e,this.id=this.config.id,this.gamePosition=this.config.position}var e,n,r=t.prototype;return r.updateMoneyText=function(t){this.playerComponents.money.text=t},r.updateGamePosition=function(t){this.playerComponents.gamePosition=t},r.startDealCardsAnim=function(t,e){this.playerComponents.cards.startDealAnim(t,e)},r.startScaleUpCardsAnim=function(){var t,e=this;return(t=function(){return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}(this,(function(t){switch(t.label){case 0:return[4,e.playerComponents.cards.startScaleUpCardsAnim()];case 1:return t.sent(),[2]}}))},function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){ze(i,r,o,a,c,"next",t)}function c(t){ze(i,r,o,a,c,"throw",t)}a(void 0)}))})()},r.updateBets=function(t){this.playerComponents.bet.text.updateMessage(t)},r.setBetVisible=function(t){this.playerComponents.bet.setVisible(t)},r.getCards=function(){return this.playerComponents.cards.getCards()},r.turnOverCards=function(t){this.playerComponents.cards.turnOverCardsAnim(t)},r.startTimer=function(t,e){this.playerComponents.timer.startCountdown(t,e)},r.resetBet=function(){this.playerComponents.bet.setVisible(!1),this.playerComponents.bet.updateText(0)},r.setDealerSignVisible=function(t){var e;null===(e=this.playerComponents.dealerSign)||void 0===e||e.setVisible(t)},r.turnOffTimer=function(){this.playerComponents.timer.resetTimer()},r.destroy=function(){this.playerComponents.destroy()},r.setPlayerActionSignVisible=function(t){var e;null===(e=this.playerComponents.actionSign)||void 0===e||e.setVisible(t)},r.setPlayerSignTexture=function(t){var e;null===(e=this.playerComponents.actionSign)||void 0===e||e.changeTexture(t)},r.setActionSignAndTextureVisible=function(t,e){this.setPlayerSignTexture(t),this.setPlayerActionSignVisible(e)},e=t,(n=[{key:"getPlayerComponents",get:function(){return this.playerComponents}},{key:"getPosition",get:function(){var t=this.playerComponents;return{x:t.x,y:t.y}}}])&&We(e.prototype,n),t}();function Ze(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function He(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Ze(i,r,o,a,c,"next",t)}function c(t){Ze(i,r,o,a,c,"throw",t)}a(void 0)}))}}function Ke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $e(t){return $e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$e(t)}function Qe(t,e){return!e||"object"!==tn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qe(t,e){return qe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},qe(t,e)}var tn=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var en=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},nn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qe(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=$e(e);if(n){var o=$e(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Qe(this,t)});function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this)).config=t,e.initCardCount=e.config.count,e.cardsSpace=e.config.space,e.cards=[],e.initCards(),e}var i,a,c=o.prototype;return c.initCards=function(){for(var t=this.config.count,e=0;e<t;e++){var n=this.config.config,r=this.createCard(n);r&&this.cards.push(r)}},c.layOutCards=function(){var t=this;return He((function(){var e,n,r,o,i,a,c;return en(this,(function(u){switch(u.label){case 0:for(e=t.cardsSpace,n=t.cards[0].x,r=[],o=1;o<t.cards.length;o++)i=t.getCard(o),a=n+o*e,c=i.moveXAnim(a),r.push(c);return[4,Promise.all(r)];case 1:return u.sent(),[2]}}))}))()},c.newCardsTurnOverAnim=function(t,e){var n=this;return He((function(){var r,o,i,a;return en(this,(function(c){switch(c.label){case 0:r=t.length,o=e+r,i=e,c.label=1;case 1:return i<o?(a=t[i-e].name,[4,n.turnOverCardAnim(i,a)]):[3,4];case 2:c.sent(),c.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},c.newCardsSlideFromTopAnim=function(t,e){var n=this;return He((function(){var r,o;return en(this,(function(i){switch(i.label){case 0:r=e+t,o=e,i.label=1;case 1:return o<r?[4,n.slideCardFormTopAnim(o)]:[3,4];case 2:i.sent(),i.label=3;case 3:return o++,[3,1];case 4:return[2]}}))}))()},c.slideCardFormTopAnim=function(t){var e=this;return He((function(){return en(this,(function(n){switch(n.label){case 0:return"slide_card",p.playAudio("slide_card"),[4,e.getCard(t).slideFromTopAnim()];case 1:return n.sent(),[2]}}))}))()},c.turnOverCardAnim=function(t,e){var n=this;return He((function(){return en(this,(function(r){switch(r.label){case 0:return"turn_card",p.playAudio("turn_card"),[4,n.getCard(t).turnOverAnim(e)];case 1:return r.sent(),[2]}}))}))()},c.dealCardsToTable=function(t){var e=this;return He((function(){var n,r;return en(this,(function(o){switch(o.label){case 0:return n=t.length,r=e.getTableLaidCardsLength,[4,e.newCardsSlideFromTopAnim(n,r)];case 1:return o.sent(),0!==r?[3,3]:[4,e.layOutCards()];case 2:o.sent(),o.label=3;case 3:return[4,e.newCardsTurnOverAnim(t,r)];case 4:return o.sent(),[2]}}))}))()},c.createCard=function(t){var e=new Pe(t);return null!==e&&this.addChild(e),e},c.getCard=function(t){return this.cards[t]},i=o,(a=[{key:"getTableLaidCardsLength",get:function(){return this.cards.filter((function(t){return!0===t.isPlacedOnTable})).length}}])&&Ke(i.prototype,a),o}(i.W20),rn={bet:{x:970,y:500,visible:!1,image:{path:"",key:"bet",type:"sprite",x:0,y:0,scaleX:1,scaleY:1,angle:0,anchorX:.5,anchorY:.5,visible:!0},background:{path:"",key:"bet_background",type:"sprite",x:0,y:0,scaleX:1,scaleY:1,angle:0,anchorX:.5,anchorY:.5,visible:!0},text:{message:0,x:0,y:40,scaleX:1,scaleY:1,angle:0,anchorX:.5,anchorY:.5,visible:!0,textConfig:{fontFamily:"Arial",fontSize:36,fill:0}}},card:{count:5,space:100,config:{path:"",key:"card_hidden",type:"sprite",x:770,y:-110,scaleX:.6,scaleY:.6,angle:0,anchorX:.5,anchorY:.5,visible:!0}}};function on(t){return on=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},on(t)}function an(t,e){return!e||"object"!==un(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function cn(t,e){return cn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},cn(t,e)}var un=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var sn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cn(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=on(e);if(n){var o=on(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return an(this,t)});function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this)).config=rn,t.cards=t.createCards(),t.totalBets=t.createTotalBets(),t}var i=o.prototype;return i.createTotalBets=function(){var t=this.config.bet,e=new pe(t);return this.addChild(e),e},i.createCards=function(){var t=this.config.card,e=new nn(t);return this.addChild(e),e},o}(i.W20);function ln(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var fn=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.table=null}var e,n,r=t.prototype;return r.createTable=function(){return this.table=new sn},r.updateTotalBetsText=function(t){this.table.totalBets.updateText(t)},r.setTotalBetsVisible=function(t){this.table.totalBets.setVisible(t)},e=t,(n=[{key:"getCards",get:function(){return this.table.cards}},{key:"getTotalBetsText",get:function(){return this.table.totalBets}}])&&ln(e.prototype,n),t}();function pn(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function hn(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){pn(i,r,o,a,c,"next",t)}function c(t){pn(i,r,o,a,c,"throw",t)}a(void 0)}))}}var dn=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},yn=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.initTable=function(t){var e=this.tableAdapter.createTable();t.addChild(e)},t.layOutCards=function(t){var e=this;return hn((function(){return dn(this,(function(n){switch(n.label){case 0:return[4,e.tableAdapter.getCards.dealCardsToTable(t)];case 1:return n.sent(),[2]}}))}))()},t.updateTotalBetsTextAndMakeVisible=function(t){this.setTotalBetsTextVisible(!0),this.tableAdapter.updateTotalBetsText(t)},t.setTotalBetsTextVisible=function(t){this.tableAdapter.setTotalBetsVisible(t)},t.moveBetsToWinnerAnim=function(t,e){var n=this;return hn((function(){var r;return dn(this,(function(o){switch(o.label){case 0:return"circ.out",1,r=n.tableAdapter.getTotalBetsText,[4,Ut.ZP.to(r,{y:e,x:t,duration:1,ease:"circ.out"})];case 1:return o.sent(),[2]}}))}))()},t}();function bn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gn(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function vn(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){gn(i,r,o,a,c,"next",t)}function c(t){gn(i,r,o,a,c,"throw",t)}a(void 0)}))}}function mn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return bn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bn(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}yn.tableAdapter=new fn;var Pn=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},xn=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.onAllPlayerJoined=function(t){var e=this;return vn((function(){var n,r,o,i,a,c;return Pn(this,(function(u){switch(u.label){case 0:for(var s in n=ee.getPlayers(),r=t.players,o=r.drawCards,i=r.playersBets,a=r.playersMoney,c=r.playersGamePositions,n)e.updatePlayerMoney(s,n,a),e.updatePlayerBet(s,n,i),e.updatePlayerPosition(s,n,c);return[4,ee.playDealCardsForPlayersAnim()];case 1:return u.sent(),[4,new Promise((function(t){setTimeout((function(){ee.turnOverPlayersCardsAnim(o,!0),t()}),1e3)}))];case 2:return u.sent(),e.updatePlayerTurn(t.game.playerTurnData),[2]}}))}))()},t.updatePlayerMoney=function(t,e,n){var r=n[t].money;ee.updatePlayerMoneyText(t,e,r),it.isMyId(t)&&Ct.updateMoneyText(r)},t.updatePlayerBet=function(t,e,n){var r=n[t].bet;void 0!==n[t]&&ee.updatePlayerBet(t,e,r),it.isMyId(t)&&Ct.updateBetText(r)},t.updatePlayerPosition=function(t,e,n){var r=n[t].position;ee.updatePlayerPosition(t,e,r),ee.checkDisplayDealerSign(t,e,r)},t.updateInterfaceMoneyText=function(t){Ct.updateMoneyText(t)},t.setupUiInterfaceButtons=function(){var t=wn(vt,5),e=t[0],n=t[1],r=t[2],o=t[3],i=t[4],a={action:"",data:0};Ct.setupButtonOnClick(e,(function(){console.log("fold button clicked")})),Ct.setupButtonOnClick(n,(function(){a.action=n,et.playerTurnAction.dispatch(a)})),Ct.setupButtonOnClick(r,(function(){a.action=r,et.playerTurnAction.dispatch(a)})),Ct.setupButtonOnClick(o,(function(){console.log("raise button clicked")})),Ct.setupButtonOnClick(i,(function(){var t=Nt.getBetValueNumber;a.action=i,t&&(a.data=t),et.playerTurnAction.dispatch(a)}))},t.updatePlayerTurn=function(t){var e=t.playerIdGameTurn,n=t.serverTime,r=t.turnRespondTime;p.playAudio("player_turn_start"),ee.turnOffPlayersTimer(),ee.setPlayerActionSignVisible(e,!1);var o=ee.getPlayer(e);o&&o.startTimer(n,r)},t.createUiInterface=function(t){Nt.initBetting(t),Ct.initPokerBar(t),this.setupUiInterfaceButtons()},t.createPlayer=function(t){var e=t.id,n=t.money,r=t.nick,o=t.sit,i=t.bet,a=t.position,c=ne.getPositionsConfig(o),u=c.sitPosition,s=c.betPosition,l=c.cardsPositions,f=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){mn(t,e,n[e])}))}return t}({},$t);f.x=u.x,f.y=u.y,f.bet.x=s.x,f.bet.y=s.y,f.id=e,f.sit=o,f.bet.text.message=i,f.position=a,f.nickname.message=r,f.money.message=n,f.cardsAnimPositions.animStartPosition=l.dealAnimStartPositions,f.cardsAnimPositions.animEndPosition=l.dealAnimEndPositions;for(var p=0;p<l.dealAnimEndPositions.length;p++)f.cards[p].x=l.dealAnimEndPositions[p].x,f.cards[p].y=l.dealAnimEndPositions[p].y;var h=new Je(f);return ee.addPlayer(h),h},t.initNextRound=function(t){return vn((function(){var e,n,r;return Pn(this,(function(o){switch(o.label){case 0:return e=t.game,n=e.tableCards,r=e.tableBets,[4,yn.layOutCards(n)];case 1:return o.sent(),yn.updateTotalBetsTextAndMakeVisible(r),ee.resetPlayersBets(),ee.setPlayersSignsVisible(!1),[2]}}))}))()},t.deletePlayer=function(t){ee.deletePlayer(t)},t.updatePlayerTurnAction=function(t){var e=wn(Kt,3),n=e[0],r=e[1],o=(e[2],wn(vt,5)),i=(o[0],o[1]),a=o[2],c=(o[3],o[4]),u=t.playerId,s=t.type,l=t.bet,f=t.money,h=ee.getPlayer(u);if(p.playAudio("player_turn_end"),s===i){var d=n;h.setActionSignAndTextureVisible(d,!0)}else if(s===c)this.updatePlayerMoneyAndBetText(u,l,f);else if(s===a){var y=r;h.setActionSignAndTextureVisible(y,!0),this.updatePlayerMoneyAndBetText(u,l,f)}},t.updatePlayerMoneyAndBetText=function(t,e,n){var r=ee.getPlayers();ee.updatePlayerBet(t,r,e),ee.updatePlayerMoneyText(t,r,n),it.isMyId(t)&&this.updateUiMoneyAndBetText(e,n)},t.updateUiMoneyAndBetText=function(t,e){Ct.updateBetText(t),Ct.updateMoneyText(e)},t.setupGamePositionsConfig=function(t){var e=t[it.getMyId].sit;ne.setupConfigPositions(e)},t.initGameResult=function(t){var e=this;return vn((function(){var n,r,o,i,a,c,u,s,l,f,p,h;return Pn(this,(function(d){switch(d.label){case 0:return n=t.players.playersCards,r=t.game,o=r.winnerPlayerId,i=r.winnerPlayerMoney,a=r.tableBets,c=wn(Kt,4),u=c[3],s=ee.getPlayer(o),l=ee.getPlayers(),f=s.getPosition,p=f.x,h=f.y,ee.turnOffPlayersTimer(),ee.resetPlayersBets(),yn.updateTotalBetsTextAndMakeVisible(a),ee.setPlayersSignsVisible(!1),[4,ee.startScaleUpCardsAnim(!0)];case 1:return d.sent(),s.setActionSignAndTextureVisible(u,!0),ee.updatePlayerMoneyText(o,l,i),it.isMyId(o)&&e.updateUiMoneyAndBetText(0,i),ee.turnOverPlayersCardsAnim(n,!1),yn.moveBetsToWinnerAnim(p,h),[2]}}))}))()},t}();function kn(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Sn(t){return Sn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Sn(t)}function On(t,e){return!e||"object"!==Tn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _n(t,e){return _n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},_n(t,e)}var Tn=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var Cn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_n(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Sn(e);if(n){var o=Sn(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return On(this,t)});function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),r.call(this,"PlayScene")}var i=o.prototype;return i.init=function(){this.createStaticComponents(),this.createTable(),this.createUiInterface(),this.bindSignals(),this.startSetupGameScene()},i.bindSignals=function(){var t=this;et.onPlayerJoined.add((function(e){return t.addPlayerToGame(e)})),et.onGetPlayers.add((function(e){return t.addPlayersToGame(e)})),et.onAllPlayerJoined.add((function(e){return t.onAllPlayerJoined(e)})),et.onChangePlayerTurn.add((function(e){return t.changePlayerTurn(e)})),et.onInitNextRound.add((function(e){return t.initNextRound(e)})),et.onPlayerLeave.add((function(e){return t.deletePlayerFromGame(e)})),et.onUpdatePlayerTurnAction.add((function(e){return t.updatePlayerTurnAction(e)})),et.onGameResult.add((function(e){return t.initGameResult(e)}))},i.addPlayerToGame=function(t){it.isMyId(t.id)||this.createPlayerAndAddToGame(t)},i.addPlayersToGame=function(t){for(var e in xn.setupGamePositionsConfig(t),t){var n=t[e];this.createPlayerAndAddToGame(n),it.isMyId(n.id)&&xn.updateInterfaceMoneyText(n.money)}},i.onAllPlayerJoined=function(t){xn.onAllPlayerJoined(t)},i.changePlayerTurn=function(t){xn.updatePlayerTurn(t)},i.createPlayerAndAddToGame=function(t){var e=xn.createPlayer(t);null!==e&&this.addChild(e.getPlayerComponents)},i.initNextRound=function(t){return(e=function(){return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}(this,(function(e){return xn.initNextRound(t),[2]}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(t){kn(i,r,o,a,c,"next",t)}function c(t){kn(i,r,o,a,c,"throw",t)}a(void 0)}))})();var e},i.deletePlayerFromGame=function(t){xn.deletePlayer(t)},i.updatePlayerTurnAction=function(t){xn.updatePlayerTurnAction(t)},i.initGameResult=function(t){xn.initGameResult(t)},i.startSetupGameScene=function(){s.startScene("SetupGameScene")},i.createUiInterface=function(){xn.createUiInterface(this)},i.createTable=function(){yn.initTable(this)},i.createStaticComponents=function(){for(var t in Q){var e=Q[t],n=N.create(e);null!==n&&this.addChild(n)}},o}(m),Bn=new Cn,An={"Content-Type":"application/json",Accept:"application/json"},jn=function(t,e){return fetch("".concat("https://poker.c4ex.net","/").concat(e),{method:"post",headers:An,body:JSON.stringify(t)})},Rn=n(955),En={background:{key:"login_screen_background",type:"sprite",x:0,y:0,scaleX:1,scaleY:1,angle:0,anchorX:0,anchorY:0,visible:!0},usernameTextInputConfig:{x:960,y:390,id:"login-input_id",type:"text",classList:"no-focus-border",style:{position:"absolute",background:"",border:"none",width:300,height:50,fontSize:30}},passwordTextInputConfig:{x:960,y:490,type:"password",classList:"no-focus-border",id:"login-input_pwd",style:{position:"absolute",background:"",border:"none",width:300,height:50,fontSize:30}},loginButtonConfig:{spritePush:"login_button_push",scaleValue:1,spriteConfig:{key:"login_button",type:"sprite",x:810,y:740,scaleX:1,scaleY:1,angle:0,anchorX:.5,anchorY:.5,visible:!0}},registerButtonConfig:{spritePush:"register_button_push",scaleValue:1,spriteConfig:{key:"register_button",type:"sprite",x:1110,y:740,scaleX:1,scaleY:1,angle:0,anchorX:.5,anchorY:.5,visible:!0}},usernameText:{message:"Login",x:760,y:390,scaleX:1,scaleY:1,angle:0,anchorX:1,anchorY:.5,visible:!0,textConfig:{fontFamily:"Arial",fontSize:40,fill:16777215}},passwordText:{message:"Password",x:760,y:490,scaleX:1,scaleY:1,angle:0,anchorX:1,anchorY:.5,visible:!0,textConfig:{fontFamily:"Arial",fontSize:40,fill:16777215}}},In={background:{key:"register_screen_background",type:"sprite",x:0,y:0,scaleX:1,scaleY:1,angle:0,anchorX:0,anchorY:0,visible:!0},usernameTextInputConfig:{x:960,y:390,id:"login-input_name",type:"text",classList:"no-focus-border",style:{position:"absolute",background:"",border:"none",width:300,height:50,fontSize:30}},passwordTextInputConfig:{x:960,y:490,type:"password",classList:"no-focus-border",id:"login-input_pwd",style:{position:"absolute",background:"",border:"none",width:300,height:50,fontSize:30}},nicknameTextInputConfig:{x:960,y:590,type:"text",classList:"no-focus-border",id:"login-input_nick",style:{position:"absolute",background:"",border:"none",width:300,height:50,fontSize:30}},registerButtonConfig:{spritePush:"register_button_push",scaleValue:1,spriteConfig:{key:"register_button",type:"sprite",x:960,y:740,scaleX:1,scaleY:1,angle:0,anchorX:.5,anchorY:.5,visible:!0}},backButtonConfig:{spritePush:"back_button_push",scaleValue:1,spriteConfig:{key:"back_button",type:"sprite",x:50,y:150,scaleX:1,scaleY:1,angle:0,anchorX:0,anchorY:1,visible:!0}},usernameText:{message:"Login",x:760,y:390,scaleX:1,scaleY:1,angle:0,anchorX:1,anchorY:.5,visible:!0,textConfig:{fontFamily:"Arial",fontSize:40,fill:16777215}},passwordText:{message:"Password",x:760,y:490,scaleX:1,scaleY:1,angle:0,anchorX:1,anchorY:.5,visible:!0,textConfig:{fontFamily:"Arial",fontSize:40,fill:16777215}},nicknameText:{message:"Nickname",x:760,y:590,scaleX:1,scaleY:1,angle:0,anchorX:1,anchorY:.5,visible:!0,textConfig:{fontFamily:"Arial",fontSize:40,fill:16777215}}},Yn=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.resizeScreen=function(t){var e=this.calculateScaleFactor(),n=this.calculateOffsetXY(),r=n.offsetX,o=n.offsetY,i=this.calculateGameScreenSize(),a=i.newWidth,c=i.newHeight,u=t.view.style;t.renderer.resize(a,c),u.position="absolute",u.left="".concat(r,"px"),u.top="".concat(o,"px"),t.stage.scale.set(e)},t.calculateOffsetXY=function(){var t=this.calculateGameScreenSize(),e=t.newWidth,n=t.newHeight;return{offsetX:(window.innerWidth-e)/2,offsetY:(window.innerHeight-n)/2}},t.calculateGameScreenSize=function(){var t=this.calculateScaleFactor();return{newWidth:r*t,newHeight:o*t}},t.calculateScaleFactor=function(){return Math.min(window.innerWidth/r,window.innerHeight/o)},t}();function Xn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mn(t){return Mn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Mn(t)}function Vn(t,e){return!e||"object"!==Ln(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Gn(t,e){return Gn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Gn(t,e)}var Ln=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var Fn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gn(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Mn(e);if(n){var o=Mn(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Vn(this,t)});function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this)).config=t,e.x=e.config.x,e.y=e.config.y,e.handleInputChange=function(){},e.handleInputFocus=function(){},e.handleInputBlur=function(){},e.input=e.createInput,e.init(),e}var i,a,c=o.prototype;return c.init=function(){this.setupInput(),this.resize(),this.addResizeListener(),document.body.appendChild(this.input)},c.setupInput=function(){var t=this.config,e=t.type,n=t.id,r=t.classList,o=t.style,i=o.position,a=o.background,c=o.border;this.input.type=e,this.input.id=n,this.input.style.position=i,this.input.style.background=a,this.input.style.border=c,this.input.classList.add(r)},c.addResizeListener=function(){window.addEventListener("resize",this.resize.bind(this))},c.removeResizeListener=function(){window.removeEventListener("resize",this.resize.bind(this))},c.resize=function(){var t=Yn.calculateScaleFactor(),e=Yn.calculateOffsetXY(),n=e.offsetX,r=e.offsetY,o=this.config.style,i=o.width,a=o.height,c=o.fontSize,u=(this.x-i/2)*t+n,s=(this.y-a/2)*t+r;this.input.style.left="".concat(u,"px"),this.input.style.top="".concat(s,"px"),this.input.style.width="".concat(i*t,"px"),this.input.style.height="".concat(a*t,"px"),this.input.style.fontSize="".concat(c*t,"px")},c.onTextChange=function(t){var e=this;this.handleInputChange=function(){var n=e.input.value;t({text:n})},this.input.addEventListener("input",this.handleInputChange)},c.onFocus=function(t){this.handleInputFocus=function(){t()},this.input.addEventListener("focus",this.handleInputFocus)},c.onBlur=function(t){this.handleInputBlur=function(){t()},this.input.addEventListener("blur",this.handleInputBlur)},c.destroy=function(){this.input.removeEventListener("input",this.handleInputChange),this.input.removeEventListener("focus",this.handleInputFocus),this.input.removeEventListener("blur",this.handleInputBlur),this.removeResizeListener(),this.input.parentNode.removeChild(this.input)},i=o,(a=[{key:"createInput",get:function(){return document.createElement("input")}}])&&Xn(i.prototype,a),o}(i.W20);function Un(t){return Un=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Un(t)}function Dn(t,e){return!e||"object"!==zn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Nn(t,e){return Nn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Nn(t,e)}var zn=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var Wn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nn(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Un(e);if(n){var o=Un(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Dn(this,t)});function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this)).config=In,t.background=t.createBackground(),t.usernameText=t.createUsernameText(),t.passwordText=t.createPasswordText(),t.nicknameText=t.createNicknameText(),t.usernamePlaceholder=t.createUsernamePlaceholder(),t.passwordPlaceholder=t.createPasswordPlaceholder(),t.nicknamePlaceholder=t.createNicknamePlaceholder(),t.registerButton=t.createRegisterButton(),t.backButton=t.createBackButton(),t}var i=o.prototype;return i.createBackground=function(){var t=this.config.background,e=N.createSprite(t);return e&&this.addChild(e),e},i.createUsernamePlaceholder=function(){var t=this.config.usernameTextInputConfig;return new Fn(t)},i.createPasswordPlaceholder=function(){var t=this.config.passwordTextInputConfig;return new Fn(t)},i.createUsernameText=function(){var t=this.config.usernameText,e=new ft(t);return this.addChild(e),e},i.createPasswordText=function(){var t=this.config.passwordText,e=new ft(t);return this.addChild(e),e},i.createNicknameText=function(){var t=this.config.nicknameText,e=new ft(t);return this.addChild(e),e},i.createNicknamePlaceholder=function(){var t=this.config.nicknameTextInputConfig;return new Fn(t)},i.createRegisterButton=function(){var t=this.config.registerButtonConfig,e=new gt(t);return this.addChild(e),e},i.createBackButton=function(){var t=this.config.backButtonConfig,e=new gt(t);return this.addChild(e),e},o}(i.W20);function Jn(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Zn(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Jn(i,r,o,a,c,"next",t)}function c(t){Jn(i,r,o,a,c,"throw",t)}a(void 0)}))}}function Hn(t){return Hn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Hn(t)}function Kn(t,e){return!e||"object"!==Qn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $n(t,e){return $n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},$n(t,e)}var Qn=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var qn=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},tr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$n(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Hn(e);if(n){var o=Hn(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Kn(this,t)});function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,"RegisterScene")).config=In,t.registerSceneView=null,t.username="",t.password="",t.nick="",t}var i=o.prototype;return i.init=function(){this.registerSceneView=new Wn,this.addChild(this.registerSceneView),this.setupRegisterScreenButtons(),this.setupTextInput()},i.setupRegisterScreenButtons=function(){var t,e,n,r,o=this;null===(t=this.registerSceneView)||void 0===t||null===(e=t.backButton)||void 0===e||e.onClick((function(){o.handleBackScene()})),null===(n=this.registerSceneView)||void 0===n||null===(r=n.registerButton)||void 0===r||r.onClick((function(){o.fetchPlayerData()}))},i.setupTextInput=function(){var t,e,n,r,o,i,a=this;null===(t=this.registerSceneView)||void 0===t||null===(e=t.usernamePlaceholder)||void 0===e||e.onTextChange((function(t){var e=t.text;a.username=e})),null===(n=this.registerSceneView)||void 0===n||null===(r=n.passwordPlaceholder)||void 0===r||r.onTextChange((function(t){var e=t.text;a.password=e})),null===(o=this.registerSceneView)||void 0===o||null===(i=o.nicknamePlaceholder)||void 0===i||i.onTextChange((function(t){var e=t.text;a.nick=e}))},i.fetchPlayerData=function(){var t=this;return Zn((function(){return qn(this,(function(e){switch(e.label){case 0:return[4,t.handleRegistration()];case 1:return e.sent().success?window.alert("Register success"):window.alert("Register failure"),[2]}}))}))()},i.handleRegistration=function(){var t=this;return Zn((function(){var e,n,r,o;return qn(this,(function(i){switch(i.label){case 0:return e=t.getUserUsernameAndPassword(),n=e.username,r=e.password,o=e.nick,[4,(a={username:n,password:r,nick:o},jn(a,"registration"))];case 1:return[4,i.sent().json()];case 2:return[2,i.sent()]}var a}))}))()},i.getUserUsernameAndPassword=function(){return{username:this.username,password:this.password,nick:this.nick}},i.destroyPlaceholders=function(){var t,e,n,r,o,i;null===(t=this.registerSceneView)||void 0===t||null===(e=t.usernamePlaceholder)||void 0===e||e.destroy(),null===(n=this.registerSceneView)||void 0===n||null===(r=n.passwordPlaceholder)||void 0===r||r.destroy(),null===(o=this.registerSceneView)||void 0===o||null===(i=o.nicknamePlaceholder)||void 0===i||i.destroy()},i.handleBackScene=function(){s.addScene([yr]),s.startScene("LoginScene"),s.deleteScene("RegisterScene"),this.destroyPlaceholders()},o}(m),er=new tr;function nr(t){return nr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},nr(t)}function rr(t,e){return!e||"object"!==ir(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function or(t,e){return or=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},or(t,e)}var ir=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var ar=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&or(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=nr(e);if(n){var o=nr(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return rr(this,t)});function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this)).config=En,t.background=t.createBackground(),t.usernameText=t.createUsernameText(),t.passwordText=t.createPasswordText(),t.usernamePlaceholder=t.createUsernamePlaceholder(),t.passwordPlaceholder=t.createPasswordPlaceholder(),t.loginButton=t.createLoginButton(),t.registerButton=t.createRegisterButton(),t}var i=o.prototype;return i.createBackground=function(){var t=this.config.background,e=N.createSprite(t);return e&&this.addChild(e),e},i.createUsernameText=function(){var t=this.config.usernameText,e=new ft(t);return this.addChild(e),e},i.createPasswordText=function(){var t=this.config.passwordText,e=new ft(t);return this.addChild(e),e},i.createUsernamePlaceholder=function(){var t=this.config.usernameTextInputConfig;return new Fn(t)},i.createPasswordPlaceholder=function(){var t=this.config.passwordTextInputConfig;return new Fn(t)},i.createLoginButton=function(){var t=this.config.loginButtonConfig,e=new gt(t);return this.addChild(e),e},i.createRegisterButton=function(){var t=this.config.registerButtonConfig,e=new gt(t);return this.addChild(e),e},o}(i.W20);function cr(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function ur(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){cr(i,r,o,a,c,"next",t)}function c(t){cr(i,r,o,a,c,"throw",t)}a(void 0)}))}}function sr(t){return sr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},sr(t)}function lr(t,e){return!e||"object"!==pr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function fr(t,e){return fr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},fr(t,e)}var pr=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var hr=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},dr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fr(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=sr(e);if(n){var o=sr(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return lr(this,t)});function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,"LoginScene")).config=En,t.loginSceneView=null,t.username="",t.password="",t.nick="",t}var i=o.prototype;return i.init=function(){this.loginSceneView=new ar,this.addChild(this.loginSceneView),this.setupLoginScreenButtons(),this.setupTextInput()},i.setupLoginScreenButtons=function(){var t,e,n,r,o=this;null===(t=this.loginSceneView)||void 0===t||null===(e=t.loginButton)||void 0===e||e.onClick((function(){o.fetchPlayerData()})),null===(n=this.loginSceneView)||void 0===n||null===(r=n.registerButton)||void 0===r||r.onClick((function(){o.handleRegisterScene()}))},i.setupTextInput=function(){var t,e,n,r,o=this;null===(t=this.loginSceneView)||void 0===t||null===(e=t.usernamePlaceholder)||void 0===e||e.onTextChange((function(t){var e=t.text;o.username=e})),null===(n=this.loginSceneView)||void 0===n||null===(r=n.passwordPlaceholder)||void 0===r||r.onTextChange((function(t){var e=t.text;o.password=e}))},i.fetchPlayerData=function(){var t=this;return ur((function(){var e,n,r;return hr(this,(function(o){switch(o.label){case 0:return[4,t.handleAuthentication()];case 1:return e=o.sent(),n=e.success,r=e.jwt,n?t.handleNextScene(r):window.alert("Invalid login or password !"),[2]}}))}))()},i.handleAuthentication=function(){var t=this;return ur((function(){var e,n,r,o,i,a;return hr(this,(function(c){switch(c.label){case 0:return e=t.getUserUsernameAndPassword(),n=e.username,r=e.password,[4,(u={username:n,password:r},jn(u,"authentication"))];case 1:return[4,c.sent().json()];case 2:return o=c.sent(),i=o.success,a=o.jwt,[2,{success:i,jwt:a}]}var u}))}))()},i.getUserUsernameAndPassword=function(){return{username:this.username,password:this.password,nick:this.nick}},i.destroyPlaceholders=function(){var t,e,n,r;null===(t=this.loginSceneView)||void 0===t||null===(e=t.usernamePlaceholder)||void 0===e||e.destroy(),null===(n=this.loginSceneView)||void 0===n||null===(r=n.passwordPlaceholder)||void 0===r||r.destroy()},i.handleRegisterScene=function(){s.addScene([er]),s.startScene("RegisterScene"),s.deleteScene("LoginScene"),this.destroyPlaceholders()},i.handleNextScene=function(t){Rn.Z.set("authToken",t,{expires:1}),s.startScene("PlayScene"),s.deleteScene("LoginScene"),this.destroyPlaceholders()},o}(m),yr=new dr;function br(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function gr(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){br(i,r,o,a,c,"next",t)}function c(t){br(i,r,o,a,c,"throw",t)}a(void 0)}))}}function vr(t){return vr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},vr(t)}function mr(t,e){return!e||"object"!==Pr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wr(t,e){return wr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},wr(t,e)}var Pr=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var xr=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},kr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wr(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=vr(e);if(n){var o=vr(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return mr(this,t)});function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),r.call(this,"SetupGameScene")}var i=o.prototype;return i.init=function(){var t=this;return gr((function(){return xr(this,(function(e){switch(e.label){case 0:return t.authToken=t.getAuthToken(),[4,t.tryJoinToGameRoom()];case 1:return e.sent(),t.startSocketListeners(),[2]}}))}))()},i.tryJoinToGameRoom=function(){return gr((function(){return xr(this,(function(t){switch(t.label){case 0:return[4,it.joinGameRoom(Rn.Z.get("authToken"))];case 1:return[2,t.sent()]}}))}))()},i.getAuthToken=function(){return Rn.Z.get("authToken")},i.startSocketListeners=function(){it.setupListeners()},o}(m),Sr=new kr,Or=a.getGame();document.body.appendChild(Or.view),Yn.resizeScreen(Or),window.addEventListener("resize",(function(){return Yn.resizeScreen(Or)})),s.addScene([$,Y,yr,er,Bn,Sr]),s.autoStartFirstScene(),globalThis.__PIXI_APP__=Or}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={id:t,loaded:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.m=e,t=[],r.O=function(e,n,o,i){if(!n){var a=1/0;for(l=0;l<t.length;l++){n=t[l][0],o=t[l][1],i=t[l][2];for(var c=!0,u=0;u<n.length;u++)(!1&i||a>=i)&&Object.keys(r.O).every((function(t){return r.O[t](n[u])}))?n.splice(u--,1):(c=!1,i<a&&(a=i));if(c){t.splice(l--,1);var s=o();void 0!==s&&(e=s)}}return e}i=i||0;for(var l=t.length;l>0&&t[l-1][2]>i;l--)t[l]=t[l-1];t[l]=[n,o,i]},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},function(){var t={179:0};r.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,i,a=n[0],c=n[1],u=n[2],s=0;if(a.some((function(e){return 0!==t[e]}))){for(o in c)r.o(c,o)&&(r.m[o]=c[o]);if(u)var l=u(r)}for(e&&e(n);s<a.length;s++)i=a[s],r.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return r.O(l)},n=self.webpackChunkpixi_typescript_boilerplate=self.webpackChunkpixi_typescript_boilerplate||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var o=r.O(void 0,[331],(function(){return r(826)}));o=r.O(o)}();